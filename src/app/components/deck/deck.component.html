<section>

    <div class="flex flex-row w-full justify-center">
        <!-- BOUTON RETOUR -->
        <button *ngIf="!isDeckVisible" class="tw_btn mx-auto" (click)="goBack()">Go back</button>
        <!-- BOUTON AFFICHER DECK -->
        <button *ngIf="!isDeckVisible" class="tw_btn mx-auto" (click)="showDeck()">Show deck</button>

        <!-- BOUTON AFFICHER ALL -->
        <button *ngIf="isDeckVisible" class="tw_btn mx-auto" (click)="showAll()">Show all cards</button>
    </div>

    <app-filters *ngIf="!isDeckVisible"></app-filters>

    <app-card></app-card>

    <!-- AFFICHAGE CARTES -->

    <div class="flex flex-wrap justify-center gap-4 mt-4">

        <div *ngFor="let card of cardsToDisplay; let i = index"
            class="w-1/4 md:w-1/5 card bg-white rounded-lg transform transition-all duration-200 hover:scale-105 hover:shadow-2xl ">

            <div class="flex justify-between items-center mb-2">

                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="tw_svg" (click)="addCardToDeck(card.getUniqueId())">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>


                <span class="text-xl font-Roboto font-semibold text-fuchsia-900">{{
                    getCardNumberOfCopies(card.getUniqueId())
                    }}</span>

                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="tw_svg" (click)="removeCardFromDeck(card.getUniqueId())">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>

            </div>

            <div class="w-full flex items-center justify-center mb-2">
                <img alt="card" class="rounded-lg object-contain object-center hover:cursor-pointer"
                    [src]="card.getImageSmall()" [attr.loading]="i > 100 ? 'lazy' : null"
                    (click)="showCardDetails(card)">
            </div>

        </div>

    </div>
    <div class="fixed bottom-0 w-full flex justify-center h10 bg-white rounded-t-xl">
        <button class="tw_btn " (click)="saveDeckCardsInBdd()">Save deck</button>
    </div>

</section>